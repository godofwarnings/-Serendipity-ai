import requests

API_URL = "https://api-inference.huggingface.co/models/dmis-lab/biobert-large-cased-v1.1-squad"
# API_URL = "https://api-inference.huggingface.co/models/deepset/roberta-base-squad2"
# API_URL = "https://api-inference.huggingface.co/models/distilbert/distilbert-base-cased-distilled-squad"
headers = {"Authorization": "Bearer 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"}

def query(payload):
	response = requests.post(API_URL, headers=headers, json=payload)
	return response.json()
	
output = query({
	"inputs": {
		"question": "Extract mental health concern indicator phrase.",
		"context": "I've been feeling really anxious lately. My mood has been up and down. Sometimes I feel overwhelmed and stressed. Other times I'm fine."
		# "context": "I am afraid my exam today went horribly bad and I think my next exam is gonna be bad too. I don't know how my parents are gonna react to that."
		# "context": "I dont understand My husband of 8 years said he wants a divorce. He recently gave up drinking and has never developed healthy coping skills. I am trying to be supportive, and he told me just a week ago how I was the love of his life.  If we fought a ton, didn't have a good sex life, and didn't care- I'd get it. I don't understand why he wants to throw away our marriage?"
		# "context": r'When do I get to move on? It has been almost 3 years since the separation. I am 100% aware of my contribution to the failure of my marriage. I don\'t blame her for leaving but it still hurts. Because I didn\'t understand the legal system and was afraid to put myself in debt for legal advice/representation she was awarded a default judgment. That meant sole physical and legal custody with visitation for me when she says so. I had no idea that was coming. I failed to do research and thought that since there was a court date I would just show up, explain my side and we\'d just split the custody. We had no property or anything else worth arguing over and she wanted to move out of the house we were buying anyway. The only thing was our children.\n\n I don\'t believe that she thinks I\'d ever be a threat or danger to her, them, or anyone. I did yell at her when she told me she was taking the kids. I grabbed her by the arm and tried to force her to leave when she came in the house she decided she didn\'t want to be in anymore, for some reason I can\'t even remember, and refused to leave. I was wrong to do that but I am not a violent person. \n\nThere hasn\'t been many instances of me not being able to see my children. But knowing that at least half of their pre-adult lives are lost to me now absolutely destroys me. I see them 3 and a half days a week. Because of work schedules she has them every weekend. I work at night so that we would not need childcare when we were together. So when I see them it\'s picking them up from school, spending a few precious hours with them, then bedtime. Sometimes I let it get to me when they are here. I can\'t function. I can\'t play, laugh, or love them like they deserve. I can\'t be their father sometimes. It\'s a double edged sword. I love them and being around them makes me happy, but sometimes the thought that I am only temporarily allowed to be their father creeps in.\n\nI know it\'s weakness on my part. Sometimes they talk about what goes on at her place. I know I\'m supposed to be mature and that it would be healthy for their parents to get along regardless of the situation. I can\'t though. I lost everything that meant anything to me. She gets to move on and be happy. She is safe and secure in knowing that the law will back her up if she decides she wants to take my children from me completely. She has found someone else and they get to be happy together. She used to always say, "why can\'t you be an adult about this?" "Why can\'t you move on? I have." It is very difficult to experience empathy, especially when you aren\'t trying to. I want to say that to her, but I don\'t think it would do any good. She has gotten everything she has wanted out of this. All I have is nothing. \n\nI know that on paper and in a perfect world co-parenting would be best for the children. I just can\'t do it though. I follow every rule set forward in the default judgment parenting plan. I don\'t do it for her or for the law. I do it for my children. I want them to be happy. I want them to feel safe and loved and secure. But that means giving in to her. I have to lay down and set aside any feeling I have that would contradict her will. Or she will take them.\n\nI\'m completely miserable. I don\'t feel like a person anymore. I don\'t feel like a father anymore. I feel like a daycare provider. I go to a job that I hate, go home, sit alone watching the same netflix shows until I fall asleep then repeat until I see them again. People have told me that everything is temporary. It sucks now but this isn\'t forever. I don\'t see my personal life changing. I lack the desire to change it. I can\'t change what happened in the legal system. I will never legally be in control of my own children. I want to move on but I don\'t know how. \n\nSorry for the wall of text. Thanks for reading if you made it this far.'
	},
})

print(output)